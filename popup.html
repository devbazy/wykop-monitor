<!doctype html>
<head>
    <script>
        window.onload = function(){
            var bck = chrome.extension.getBackgroundPage();
            var list = document.getElementById('notification');
            
            if(bck.logged) {
                var notifications = bck.notifications;
               
                for(var i = 0, c = notifications.length > 10 ? 10 : notifications.length; i < c; i++){
                    var e = document.createElement("li");
                    if(notifications[i]['new'] || i < bck.news){
                        e.className = 'new';
                    }
                    e.innerHTML = notifications[i].html;
                    list.appendChild(e);
                }
                         
                bck.news = 0;
                bck.setBadge(); 
            }else {
                document.getElementById('content').innerHTML = 'Zaloguj siê na <a href="http://wykop.pl">wykop.pl</a>';
            }
            
            // make link clickable
            var a = document.getElementsByTagName('a');
            for(var i = 0; i < a.length; i++){
                a[i].addEventListener('click', function(e){
                    chrome.tabs.create({url: this.getAttribute('href')});
                });
            }  
        }
    </script>
    <link rel="stylesheet" type="text/css"  href="css/wykop.css" />
    <style>
        html {
            overflow: hidden;
            width: 650px;
        }

        .wrapper {
            width: 650px !important;
        }
    </style>
</head>
<body>
    <div id="illustration">
        <div id="body-container">
            <div class="wrapper">
                <div id="content">
                    <ul id="notification" class="entry-list-notification">

                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>